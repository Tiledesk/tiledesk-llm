# This is a template for service configuration.
# Rename this file to 'service_conf.yaml' and fill in the values.

# Service activation flags
# Set to true to enable the corresponding module's features.
# This may require installing optional dependencies (e.g., 'poetry install -E graph').
# Module mapping:
#   - graphrag: knowledge_graph module (requires neo4j, minio)
#   - pdf_ocr: pdf_ocr module (requires redis, optional PDF libraries)
#   - conversion: conversion module (XLSX/PDF conversion, optional PDF libraries)
#   - tools_registry: tools_registry module (no external dependencies)
services:
  task_executor: true
  graphrag: false
  pdf_ocr: false
  conversion: true
  tools_registry: true

# Configuration for Text Embeddings Inference (TEI) containers
# Each section should point to a running TEI container.
tei:
  # Dense embeddings
  embedding:
    url: "http://localhost:7580"
    # api_key: "your-api-key" # Uncomment if your TEI instance requires an API key
    model: "intfloat/multilingual-e5-large-instruct"

  # Sparse embeddings (SPLADE)
  sparse_encoder:
    url: "http://localhost:7380"
    # api_key: "your-api-key" # Uncomment if your TEI instance requires an API key
    model: "naver/efficient-splade-VI-BT-large-query"

  # Reranker
  reranker:
    url: "http://localhost:7480"
    # api_key: "your-api-key" # Uncomment if your TEI instance requires an API key
    model: "BAAI/bge-reranker-large"

# Configuration for Minio object storage (used by knowledge_graph)
minio:
  endpoint: "localhost:9000"
  access_key: "minioadmin"
  secret_key: "minioadmin"
  secure: false
  bucket_name: "graphrag"
  bucket_tables: "document-tables"
  bucket_images: "document-images"
  bucket_pdfs: "ocr-pdfs"

# Configuration for Neo4j graph database (used by knowledge_graph)
neo4j:
  uri: "neo4j://localhost:7687"
  user: "neo4j"
  password: "password"
  database: "neo4j"
