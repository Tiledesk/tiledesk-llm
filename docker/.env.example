# Docker Compose Environment Variables
# Copy this file to .env and customize as needed

TILELLM_PROFILE="app-base"

ENABLE_TASKIQ="true"
ENABLE_GRAPHRAG="true"
ENABLE_PDF_OCR="true"
ENABLE_CONVERSION="true"
ENABLE_TOOLS_REGISTRY="true"

# --- Redis Configuration ---
REDIS_IMAGE=redis:latest
REDIS_PORT=6379
REDIS_URL="redis://localhost:6379/0"
# Redis Queue Name (for OCR processing)
REDIS_QUEUE_NAME="tiledesk_ocr_queue"

# Application Configuration
APP_PORT=8000
APP_PORT_WORKER=3009
WORKER_CONTEXT=../worker
# --- JWT Secret Key ---
JWT_SECRET_KEY="your-jwt-secret-key-256-bit"
# --- Application Settings ---
# Role for the LLM worker ('api' or 'train')
TILELLM_ROLE="api"
LOG_LEVEL="INFO"
# Enable profiler (True/False)
ENABLE_PROFILER="False"
# NVIDIA GPU Support (set to true if you have NVIDIA GPU)
NVIDIA_GPU_ENABLED=false

# Docker Build Arguments (for optional features)
BUILD_OPTIONAL=false


# Qdrant Vector Store (optional - enable with 'qdrant' profile)
QDRANT_IMAGE=qdrant/qdrant:latest
QDRANT_HTTP_PORT=6333
QDRANT_GRPC_PORT=6334
QDRANT_STORAGE_PATH=./qdrant_storage

# TEI Services Ports
TEI_SPLADE_PORT=7380
TEI_SPLADE_API_KEY=tei-splade-api-key
TEI_SPLADE_MAX_BATCH_TOKENS=16384
TEI_SPLADE_MODEL_ID=naver/efficient-splade-VI-BT-large-query
TEI_SPLADE_MAX_CONCURRENT_REQUESTS=4

TEI_RERANKER_PORT=7480
TEI_RERANKER_API_KEY=tei-reranker-api-key
TEI_RERANKER_MODEL_ID=BAAI/bge-reranker-large

TEI_EMBEDDING_PORT=7580
TEI_EMBEDDING_API_KEY=tei-embedding-api-key
TEI_EMBEDDING_MODEL_ID=intfloat/multilingual-e5-large-instruct


# --- Neo4j Configuration (for Knowledge Graph) ---
NEO4J_URI=bolt://neo4j:7687
NEO4J_USERNAME="neo4j"
NEO4J_PASSWORD="neo4j_password"
NEO4J_DATABASE="neo4j"


# --- MinIO Configuration (for GraphRAG artifact storage) ---
MINIO_ENDPOINT="minio:9000"
MINIO_ACCESS_KEY="minioadmin"
MINIO_SECRET_KEY="minioadmin"
MINIO_SECURE="False"
MINIO_GRAPHRAG_BUCKET="graphrag"
MINIO_TABLES_BUCKET="document-tables"
MINIO_IMAGES_BUCKET="document-images"
MINIO_PDFS_BUCKET="ocr-pdfs"


# Docker Compose Project Name (optional)
COMPOSE_PROJECT_NAME=tiledesk-llm